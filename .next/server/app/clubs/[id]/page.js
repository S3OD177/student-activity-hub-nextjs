(()=>{var e={};e.id=514,e.ids=[514],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},64233:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>d}),t(11757),t(7330),t(26083),t(89410);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["clubs",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,11757)),"C:\\Users\\m_ah1\\Desktop\\student-activity-hub-nextjs\\app\\clubs\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7330)),"C:\\Users\\m_ah1\\Desktop\\student-activity-hub-nextjs\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\Users\\m_ah1\\Desktop\\student-activity-hub-nextjs\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,89410)),"C:\\Users\\m_ah1\\Desktop\\student-activity-hub-nextjs\\app\\not-found.tsx"]}],x=["C:\\Users\\m_ah1\\Desktop\\student-activity-hub-nextjs\\app\\clubs\\[id]\\page.tsx"],o="/clubs/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/clubs/[id]/page",pathname:"/clubs/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},337:(e,s,t)=>{Promise.resolve().then(t.bind(t,24588))},24588:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(10326),r=t(77109),i=t(17577),l=t(35047),n=t(7979),c=t(32600),d=t(33071),x=t(90772),o=t(34789);let m=(0,t(62881).Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var h=t(74975),u=t(37358),p=t(77636),j=t(24061);function y({params:e}){let{data:s}=(0,r.useSession)(),t=(0,l.useRouter)(),{toast:y}=(0,o.pm)(),[b,g]=(0,i.useState)(null),[v,f]=(0,i.useState)(!0),[N,k]=(0,i.useState)(!1),_=async()=>{try{let t=await fetch(`/api/clubs/${e.id}`),a=await t.json();if(g(a),s){let e=a.memberships.find(e=>e.userId===parseInt(s.user.id));k(!!e)}}catch(e){console.error("Error fetching club:",e)}finally{f(!1)}},w=async()=>{try{(await fetch(`/api/clubs/${e.id}/join`,{method:"POST"})).ok&&(y({title:"Joined club successfully!"}),_())}catch(e){y({title:"Error",description:"Failed to join club",variant:"destructive"})}},P=async()=>{try{(await fetch(`/api/clubs/${e.id}/join`,{method:"DELETE"})).ok&&(y({title:"Left club successfully!"}),_())}catch(e){y({title:"Error",description:"Failed to leave club",variant:"destructive"})}};return v?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 dark:from-gray-900 dark:to-teal-900 flex flex-col",children:[a.jsx(n.w,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}),a.jsx(c.$,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col",children:[a.jsx(n.w,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:b.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b.department})]}),s&&(N?(0,a.jsxs)(x.z,{variant:"outline",onClick:P,children:[a.jsx(m,{className:"h-4 w-4 mr-2"}),"Leave Club"]}):(0,a.jsxs)(x.z,{onClick:w,children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Join Club"]}))]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{children:"About"})}),a.jsx(d.aY,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b.description})})]}),(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{children:"Upcoming Events"})}),a.jsx(d.aY,{children:b.activities.length>0?a.jsx("div",{className:"space-y-3",children:b.activities.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>t.push("/activities"),children:[a.jsx("h3",{className:"font-semibold",children:e.title}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500 mt-2",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-1"}),new Date(e.date).toLocaleDateString()]}),(0,a.jsxs)("span",{className:"flex items-center",children:[a.jsx(p.Z,{className:"h-4 w-4 mr-1"}),e.location]})]})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No upcoming events"})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{children:"Stats"})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Members"}),a.jsx("span",{className:"font-bold",children:b._count.memberships})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Events"}),a.jsx("span",{className:"font-bold",children:b._count.activities})]})]})]}),(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{children:["Members (",b.memberships.length,")"]})}),a.jsx(d.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[b.memberships.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900 rounded-full flex items-center justify-center",children:a.jsx(j.Z,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),a.jsx("span",{className:"text-sm",children:e.user.fullName||e.user.username})]},e.id)),b.memberships.length>5&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["+",b.memberships.length-5," more"]})]})})]})]})]})]}),a.jsx(c.$,{})]})}},77636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},74975:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},11757:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\m_ah1\Desktop\student-activity-hub-nextjs\app\clubs\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,8080,619,110],()=>t(64233));module.exports=a})();