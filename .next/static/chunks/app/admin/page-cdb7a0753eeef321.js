(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5646:function(e,t,a){Promise.resolve().then(a.bind(a,9725))},9725:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var s=a(7437),r=a(605),i=a(9376),l=a(2265),n=a(7648),c=a(2869),d=a(6070),o=a(5186),x=a(6815),m=a(7992),u=a(1769),h=a(5805),p=a(6439),g=a(1047),j=a(1567),v=a(9397),y=a(2735),f=a(3247),b=a(5868),N=a(3327),w=a(8930),k=a(2489),C=a(484),S=a(3284),E=a(8456),T=a(5389);function A(){let{data:e,status:t}=(0,r.useSession)(),a=(0,i.useRouter)(),{toast:A}=(0,m.pm)(),{themeConfig:Z}=(0,E.F)(),{t:D}=(0,T.Z)(),[_,z]=(0,l.useState)([]),[O,I]=(0,l.useState)({totalActivities:0,totalEnrollments:0,totalUsers:0}),[L,F]=(0,l.useState)([]),[P,U]=(0,l.useState)(!1),[M,Y]=(0,l.useState)("activities"),[B,R]=(0,l.useState)([]),[G,H]=(0,l.useState)([]),[J,q]=(0,l.useState)(!1),[V,X]=(0,l.useState)({name:"",description:"",department:""}),[$,K]=(0,l.useState)(!0),[Q,W]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(null),[ea,es]=(0,l.useState)({title:"",description:"",date:"",location:"",maxStudents:0,academicLevel:"",major:"",instructor:"",category:"General"}),[er,ei]=(0,l.useState)([]),[el,en]=(0,l.useState)({title:"",content:"",priority:"normal"}),[ec,ed]=(0,l.useState)(""),[eo,ex]=(0,l.useState)("all"),[em,eu]=(0,l.useState)("all");(0,l.useEffect)(()=>{"unauthenticated"===t?a.push("/login"):(null==e?void 0:e.user.role)!=="admin"&&a.push("/dashboard")},[t,e,a]),(0,l.useEffect)(()=>{(null==e?void 0:e.user.role)==="admin"&&(eh(),ep(),eg(),ej(),ev())},[e]);let eh=async()=>{try{let e=await fetch("/api/activities"),t=await e.json();z(t)}catch(e){console.error("Error fetching activities:",e)}finally{K(!1)}},ep=async()=>{try{let[e,t]=await Promise.all([fetch("/api/activities"),fetch("/api/users")]),a=await e.json(),s=await t.json(),r=a.reduce((e,t)=>e+t._count.enrollments,0);I({totalActivities:a.length,totalEnrollments:r,totalUsers:s.length||0})}catch(e){console.error("Error fetching stats:",e)}},eg=async()=>{try{let e=await fetch("/api/users"),t=await e.json();F(t)}catch(e){console.error("Error fetching users:",e)}},ej=async()=>{try{let e=await fetch("/api/announcements"),t=await e.json();ei(t)}catch(e){console.error("Error fetching announcements:",e)}},ev=async()=>{try{let e=await fetch("/api/clubs"),t=await e.json();H(t)}catch(e){console.error("Error fetching clubs:",e)}},ey=async()=>{try{(await fetch("/api/clubs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})).ok&&(A({title:"Club created successfully!"}),q(!1),X({name:"",description:"",department:""}),ev())}catch(e){A({title:"Error",description:"Failed to create club",variant:"destructive"})}},ef=async e=>{if(confirm("Are you sure you want to delete this club?"))try{(await fetch("/api/clubs/".concat(e),{method:"DELETE"})).ok&&(A({title:"Club deleted successfully!"}),ev())}catch(e){A({title:"Error",description:"Failed to delete club",variant:"destructive"})}},eb=async()=>{try{(await fetch("/api/announcements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(el)})).ok&&(A({title:"Announcement created!"}),en({title:"",content:"",priority:"normal"}),ej())}catch(e){A({title:"Error",description:"Failed to create announcement",variant:"destructive"})}},eN=async e=>{try{await fetch("/api/announcements?id=".concat(e),{method:"DELETE"}),A({title:"Announcement deleted"}),ej()}catch(e){A({title:"Error",description:"Failed to delete announcement",variant:"destructive"})}},ew=async e=>{e.preventDefault();try{let e=ee?"/api/activities/".concat(ee.id):"/api/activities",t=await fetch(e,{method:ee?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ea)});if(t.ok)A({title:"Success",description:ee?"Activity updated!":"Activity created!"}),W(!1),et(null),eE(),eh(),ep();else{let e=await t.json();A({title:"Error",description:e.error,variant:"destructive"})}}catch(e){A({title:"Error",description:"Failed to save activity",variant:"destructive"})}},ek=e=>{et(e),es({title:e.title,description:e.description,date:new Date(e.date).toISOString().split("T")[0],location:e.location,maxStudents:e.maxStudents,academicLevel:e.academicLevel||"",major:e.major||"",instructor:e.instructor||"",category:e.category||"General"}),W(!0)},eC=async e=>{if(confirm("Are you sure you want to delete this activity?"))try{(await fetch("/api/activities/".concat(e),{method:"DELETE"})).ok&&(A({title:"Success",description:"Activity deleted!"}),eh(),ep())}catch(e){A({title:"Error",description:"Failed to delete activity",variant:"destructive"})}},eS=async e=>{let t=_.find(t=>t.id===e);if(t){if(new Date(t.date)>new Date){A({title:"Error",description:"Cannot issue certificates for future activities",variant:"destructive"});return}if(confirm('Issue certificates to all students who attended "'.concat(t.title,'"?')))try{let t=await fetch("/api/admin/certificates",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({activityId:e})}),a=await t.json();t.ok?A({title:"Success",description:"Issued ".concat(a.count," certificate(s)")}):A({title:"Error",description:a.error||"Failed to issue certificates",variant:"destructive"})}catch(e){A({title:"Error",description:"Failed to issue certificates",variant:"destructive"})}}},eE=()=>{es({title:"",description:"",date:"",location:"",maxStudents:0,academicLevel:"",major:"",instructor:"",category:"General"})},eT=()=>{et(null),eE(),W(!0)};return"loading"===t||$?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e&&"admin"===e.user.role?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col",children:[(0,s.jsx)(C.w,{}),(0,s.jsx)("div",{className:"bg-gradient-to-br ".concat(Z.primary," text-white"),children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:D("admin.title")}),(0,s.jsx)("p",{className:"text-white/90 mt-1",children:D("dashboard.stats")})]})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(c.z,{variant:"activities"===M?"default":"outline",onClick:()=>Y("activities"),children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),D("nav.activities")]}),(0,s.jsxs)(c.z,{variant:"users"===M?"default":"outline",onClick:()=>Y("users"),children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),D("admin.users")]}),(0,s.jsxs)(c.z,{variant:"announcements"===M?"default":"outline",onClick:()=>Y("announcements"),children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),D("admin.announcements")]}),(0,s.jsxs)(c.z,{variant:"clubs"===M?"default":"outline",onClick:()=>Y("clubs"),children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),D("admin.clubs")]})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,s.jsx)(n.default,{href:"/calendar",children:(0,s.jsxs)(c.z,{variant:"outline",size:"sm",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),D("nav.calendar")]})}),(0,s.jsx)(n.default,{href:"/admin/analytics",children:(0,s.jsxs)(c.z,{variant:"outline",size:"sm",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),D("nav.analytics")]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:["clubs"===M&&(0,s.jsxs)(c.z,{onClick:()=>q(!0),children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),D("common.create")," ",D("admin.clubs")]}),(0,s.jsx)("div",{className:"ml-auto flex gap-2",children:(0,s.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>window.open("/api/export?type=activities","_blank"),children:[(0,s.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),D("common.export")]})}),B.length>0&&(0,s.jsxs)(c.z,{variant:"destructive",onClick:()=>{R([]),A({title:"".concat(B.length," items selected")})},children:["Bulk Actions (",B.length,")"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(d.Zb,{className:"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Y("activities"),children:(0,s.jsxs)(d.aY,{className:"p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)(u.Z,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D("nav.activities")}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:O.totalActivities})]})}),(0,s.jsx)(d.Zb,{className:"border-l-4 border-l-green-500 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Y("clubs"),children:(0,s.jsxs)(d.aY,{className:"p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)(h.Z,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D("admin.clubs")}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:G.length})]})}),(0,s.jsx)(d.Zb,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-shadow",children:(0,s.jsxs)(d.aY,{className:"p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)(g.Z,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D("admin.totalEnrollments")}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:O.totalEnrollments})]})}),(0,s.jsx)(d.Zb,{className:"border-l-4 border-l-pink-500 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Y("users"),children:(0,s.jsxs)(d.aY,{className:"p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)(h.Z,{className:"h-8 w-8 text-pink-600 dark:text-pink-400"})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D("admin.totalUsers")}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:O.totalUsers})]})})]}),"activities"===M&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ll,{className:"text-2xl",children:"All Activities"}),(0,s.jsx)(d.SZ,{children:"Manage and monitor your activities"})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(c.z,{onClick:eT,size:"sm",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"New Activity"]})})]})}),(0,s.jsxs)(d.aY,{children:[(0,s.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(f.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)(o.I,{placeholder:"Search activities...",value:ec,onChange:e=>ed(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("select",{value:eo,onChange:e=>ex(e.target.value),className:"px-4 py-2 border rounded-md bg-background",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,s.jsx)("option",{value:"past",children:"Past"})]}),(0,s.jsxs)("select",{value:em,onChange:e=>eu(e.target.value),className:"px-4 py-2 border rounded-md bg-background",children:[(0,s.jsx)("option",{value:"all",children:"All Categories"}),(0,s.jsx)("option",{value:"Technology",children:"Technology"}),(0,s.jsx)("option",{value:"Arts",children:"Arts"}),(0,s.jsx)("option",{value:"Business",children:"Business"}),(0,s.jsx)("option",{value:"Sports",children:"Sports"}),(0,s.jsx)("option",{value:"General",children:"General"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:_.filter(e=>new Date(e.date)>new Date).length}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Upcoming"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:_.filter(e=>new Date(e.date)<=new Date).length}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Completed"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:_.reduce((e,t)=>{var a;return e+((null===(a=t._count)||void 0===a?void 0:a.enrollments)||0)},0)}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Enrollments"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:_.reduce((e,t)=>e+t.maxStudents,0)}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Capacity"})]})]})]}),(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left",children:(0,s.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?R(_.map(e=>e.id)):R([])},checked:B.length===_.length&&_.length>0})}),(0,s.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Title"}),(0,s.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:"Date"}),(0,s.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:"Location"}),(0,s.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Enrollments"}),(0,s.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:_.filter(e=>{var t;let a=""===ec||e.title.toLowerCase().includes(ec.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(ec.toLowerCase()))||e.location.toLowerCase().includes(ec.toLowerCase()),s=new Date,r=new Date(e.date),i="all"===eo||"upcoming"===eo&&r>s||"past"===eo&&r<=s,l="all"===em||e.category===em;return a&&i&&l}).map(e=>{var t,a;let r=new Date(e.date)<new Date,i=e.maxStudents>0?(((null===(t=e._count)||void 0===t?void 0:t.enrollments)||0)/e.maxStudents*100).toFixed(0):0;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,s.jsx)("td",{className:"px-3 sm:px-6 py-4",children:(0,s.jsx)("input",{type:"checkbox",checked:B.includes(e.id),onChange:t=>{t.target.checked?R([...B,e.id]):R(B.filter(t=>t!==e.id))}})}),(0,s.jsx)("td",{className:"px-3 sm:px-6 py-4",children:(0,s.jsx)("div",{className:"flex items-start gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.category&&(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:e.category}),r?(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:"Ended"}):(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded",children:"Active"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 md:hidden mt-1",children:[new Date(e.date).toLocaleDateString()," â€¢ ",e.location]})]})})}),(0,s.jsx)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 hidden md:table-cell",children:new Date(e.date).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-500 dark:text-gray-400 hidden lg:table-cell",children:e.location}),(0,s.jsx)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:(null===(a=e._count)||void 0===a?void 0:a.enrollments)||0}),(0,s.jsxs)("span",{className:"text-gray-400",children:["/",e.maxStudents]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"h-1.5 rounded-full ".concat(Number(i)>=80?"bg-green-600":Number(i)>=50?"bg-yellow-600":"bg-blue-600"),style:{width:"".concat(i,"%")}})}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[i,"% filled"]})]})}),(0,s.jsx)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>ek(e),title:"Edit",children:(0,s.jsx)(b.Z,{className:"h-4 w-4"})}),(0,s.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>eS(e.id),title:"Issue Certificates",className:"text-green-600 hover:text-green-700",children:(0,s.jsx)(N.Z,{className:"h-4 w-4"})}),(0,s.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>eC(e.id),className:"text-red-600 hover:text-red-700",title:"Delete",children:(0,s.jsx)(w.Z,{className:"h-4 w-4"})})]})})]},e.id)})})]}),0===_.filter(e=>{var t;let a=""===ec||e.title.toLowerCase().includes(ec.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(ec.toLowerCase()))||e.location.toLowerCase().includes(ec.toLowerCase()),s=new Date,r=new Date(e.date),i="all"===eo||"upcoming"===eo&&r>s||"past"===eo&&r<=s,l="all"===em||e.category===em;return a&&i&&l}).length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"No activities found"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-4",children:ec||"all"!==eo||"all"!==em?"Try adjusting your filters":"Create your first activity to get started"}),!ec&&"all"===eo&&"all"===em&&(0,s.jsxs)(c.z,{onClick:eT,children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Create Activity"]})]})]})]})]}),"users"===M&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsx)(d.ll,{children:"All Users"}),(0,s.jsx)(d.SZ,{children:"Manage registered users"})]}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("th",{className:"text-left p-4 font-medium",children:"Username"}),(0,s.jsx)("th",{className:"text-left p-4 font-medium",children:"Email"}),(0,s.jsx)("th",{className:"text-left p-4 font-medium",children:"Role"}),(0,s.jsx)("th",{className:"text-left p-4 font-medium",children:"Enrollments"}),(0,s.jsx)("th",{className:"text-left p-4 font-medium",children:"Joined"})]})}),(0,s.jsx)("tbody",{children:L.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"p-4",children:e.username}),(0,s.jsx)("td",{className:"p-4",children:e.email}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role})}),(0,s.jsx)("td",{className:"p-4",children:e._count.enrollments}),(0,s.jsx)("td",{className:"p-4",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})})})]}),"announcements"===M&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsx)(d.ll,{children:"Create Announcement"}),(0,s.jsx)(d.SZ,{children:"Post important updates to all users"})]}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"ann-title",children:"Title"}),(0,s.jsx)(o.I,{id:"ann-title",value:el.title,onChange:e=>en({...el,title:e.target.value}),placeholder:"Announcement title"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"ann-content",children:"Content"}),(0,s.jsx)("textarea",{id:"ann-content",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",value:el.content,onChange:e=>en({...el,content:e.target.value}),placeholder:"Announcement content"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"ann-priority",children:"Priority"}),(0,s.jsxs)("select",{id:"ann-priority",value:el.priority,onChange:e=>en({...el,priority:e.target.value}),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"normal",children:"Normal"}),(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,s.jsxs)(c.z,{onClick:eb,children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Post Announcement"]})]})})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Recent Announcements"})}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:0===er.length?(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 py-8",children:"No announcements yet"}):er.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.title}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("urgent"===e.priority?"bg-red-100 text-red-800":"high"===e.priority?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:e.priority})]}),(0,s.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>eN(e.id),children:(0,s.jsx)(w.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.content}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:new Date(e.createdAt).toLocaleString()})]},e.id))})})]})]}),"clubs"===M&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ll,{children:"All Clubs"}),(0,s.jsx)(d.SZ,{children:"Manage student clubs"})]}),(0,s.jsxs)(c.z,{onClick:()=>q(!0),children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Create Club"]})]})}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===G.length?(0,s.jsx)("p",{className:"text-gray-500 col-span-full text-center py-8",children:"No clubs yet"}):G.map(e=>{var t;return(0,s.jsxs)(d.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsx)(d.ll,{className:"text-lg",children:e.name}),(0,s.jsx)(d.SZ,{children:e.department})]}),(0,s.jsxs)(d.aY,{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsxs)("span",{children:[(null===(t=e._count)||void 0===t?void 0:t.memberships)||0," members"]}),(0,s.jsx)(c.z,{variant:"destructive",size:"sm",onClick:()=>ef(e.id),children:(0,s.jsx)(w.Z,{className:"h-4 w-4"})})]})]})]},e.id)})})})]})]}),(0,s.jsx)(S.$,{}),J&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-lg",children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(d.ll,{children:"Create New Club"}),(0,s.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>q(!1),children:(0,s.jsx)(k.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"club-name",children:"Club Name *"}),(0,s.jsx)(o.I,{id:"club-name",value:V.name,onChange:e=>X({...V,name:e.target.value}),placeholder:"e.g., Computer Science Club"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"club-description",children:"Description *"}),(0,s.jsx)("textarea",{id:"club-description",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",value:V.description,onChange:e=>X({...V,description:e.target.value}),placeholder:"Describe the club..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"club-department",children:"Department"}),(0,s.jsx)(o.I,{id:"club-department",value:V.department,onChange:e=>X({...V,department:e.target.value}),placeholder:"e.g., Computer Science"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c.z,{onClick:ey,className:"flex-1",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Create Club"]}),(0,s.jsx)(c.z,{variant:"outline",onClick:()=>q(!1),className:"flex-1",children:"Cancel"})]})]})})]})}),Q&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(d.ll,{children:ee?"Edit Activity":"Create New Activity"}),(0,s.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>{W(!1),et(null),eE()},children:(0,s.jsx)(k.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("form",{onSubmit:ew,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"title",children:"Title *"}),(0,s.jsx)(o.I,{id:"title",value:ea.title,onChange:e=>es({...ea,title:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"description",children:"Description *"}),(0,s.jsx)("textarea",{id:"description",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",value:ea.description,onChange:e=>es({...ea,description:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"date",children:"Date *"}),(0,s.jsx)(o.I,{id:"date",type:"date",value:ea.date,onChange:e=>es({...ea,date:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"location",children:"Location *"}),(0,s.jsx)(o.I,{id:"location",value:ea.location,onChange:e=>es({...ea,location:e.target.value}),required:!0})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"maxStudents",children:"Max Students (0 = unlimited)"}),(0,s.jsx)(o.I,{id:"maxStudents",type:"number",min:"0",value:ea.maxStudents,onChange:e=>es({...ea,maxStudents:parseInt(e.target.value)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"instructor",children:"Instructor"}),(0,s.jsx)(o.I,{id:"instructor",value:ea.instructor,onChange:e=>es({...ea,instructor:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"academicLevel",children:"Academic Level"}),(0,s.jsx)(o.I,{id:"academicLevel",placeholder:"e.g., Level 3",value:ea.academicLevel,onChange:e=>es({...ea,academicLevel:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"major",children:"Major"}),(0,s.jsx)(o.I,{id:"major",placeholder:"e.g., Computer Science",value:ea.major,onChange:e=>es({...ea,major:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,s.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>{W(!1),et(null),eE()},children:"Cancel"}),(0,s.jsx)(c.z,{type:"submit",children:ee?"Update":"Create"})]})]})})]})})]}):null}},5186:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(7437),r=a(2265),i=a(4508);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},6815:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var s=a(7437),r=a(2265),i=a(6394),l=a(535),n=a(4508);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,n.cn)(c(),a),...r})});d.displayName=i.f.displayName},7992:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let r=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function o(e){d=n(d,e),c.forEach(e=>{e(d)})}function x(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:x,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},8456:function(e,t,a){"use strict";a.d(t,{F:function(){return c},ThemeProvider:function(){return n}});var s=a(7437),r=a(2265),i=a(2857);let l=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,r.useState)("default");(0,r.useEffect)(()=>{let e=localStorage.getItem("color-theme");e&&(0,i.g)(e)&&n(e)},[]);let c=(0,i.g)(a);return(0,s.jsx)(l.Provider,{value:{currentTheme:a,setTheme:e=>{n(e),localStorage.setItem("color-theme",e)},themeConfig:c},children:t})}function c(){let e=(0,r.useContext)(l);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},2857:function(e,t,a){"use strict";a.d(t,{g:function(){return r},n:function(){return s}});let s={default:{name:"Default Blue",primary:"from-blue-600 via-purple-600 to-indigo-700",primarySolid:"bg-blue-600",primaryHover:"hover:bg-blue-700",primaryText:"text-blue-600",primaryBorder:"border-blue-500",accent:"from-blue-400 to-purple-400"},green:{name:"Forest Green",primary:"from-green-600 via-teal-600 to-emerald-700",primarySolid:"bg-green-600",primaryHover:"hover:bg-green-700",primaryText:"text-green-600",primaryBorder:"border-green-500",accent:"from-green-400 to-teal-400"},purple:{name:"Royal Purple",primary:"from-purple-600 via-indigo-600 to-violet-700",primarySolid:"bg-purple-600",primaryHover:"hover:bg-purple-700",primaryText:"text-purple-600",primaryBorder:"border-purple-500",accent:"from-purple-400 to-indigo-400"},orange:{name:"Sunset Orange",primary:"from-orange-600 via-red-600 to-pink-700",primarySolid:"bg-orange-600",primaryHover:"hover:bg-orange-700",primaryText:"text-orange-600",primaryBorder:"border-orange-500",accent:"from-orange-400 to-red-400"},pink:{name:"Rose Pink",primary:"from-pink-600 via-rose-600 to-red-700",primarySolid:"bg-pink-600",primaryHover:"hover:bg-pink-700",primaryText:"text-pink-600",primaryBorder:"border-pink-500",accent:"from-pink-400 to-rose-400"},cyan:{name:"Ocean Cyan",primary:"from-cyan-600 via-blue-600 to-indigo-700",primarySolid:"bg-cyan-600",primaryHover:"hover:bg-cyan-700",primaryText:"text-cyan-600",primaryBorder:"border-cyan-500",accent:"from-cyan-400 to-blue-400"}},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return s[e]||s.default}}},function(e){e.O(0,[585,972,605,724,701,971,117,744],function(){return e(e.s=5646)}),_N_E=e.O()}]);