(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{2362:function(e,t,s){Promise.resolve().then(s.bind(s,9758))},9758:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var n=s(7437),r=s(605),a=s(2265),i=s(9376),l=s(484),c=s(3284),d=s(6070),o=s(2869),u=s(7992);let h=(0,s(9205).Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var y=s(7806),f=s(1047),p=s(3774),m=s(5805);function x(e){let{params:t}=e,{data:s}=(0,r.useSession)(),x=(0,i.useRouter)(),{toast:k}=(0,u.pm)(),[j,g]=(0,a.useState)(null),[v,b]=(0,a.useState)(!0),[N,Z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{M()},[t.id]);let M=async()=>{try{let e=await fetch("/api/clubs/".concat(t.id)),n=await e.json();if(g(n),s){let e=n.memberships.find(e=>e.userId===parseInt(s.user.id));Z(!!e)}}catch(e){console.error("Error fetching club:",e)}finally{b(!1)}},S=async()=>{try{(await fetch("/api/clubs/".concat(t.id,"/join"),{method:"POST"})).ok&&(k({title:"Joined club successfully!"}),M())}catch(e){k({title:"Error",description:"Failed to join club",variant:"destructive"})}},w=async()=>{try{(await fetch("/api/clubs/".concat(t.id,"/join"),{method:"DELETE"})).ok&&(k({title:"Left club successfully!"}),M())}catch(e){k({title:"Error",description:"Failed to leave club",variant:"destructive"})}};return v?(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 dark:from-gray-900 dark:to-teal-900 flex flex-col",children:[(0,n.jsx)(l.w,{}),(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}),(0,n.jsx)(c.$,{})]}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col",children:[(0,n.jsx)(l.w,{}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:j.name}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:j.department})]}),s&&(N?(0,n.jsxs)(o.z,{variant:"outline",onClick:w,children:[(0,n.jsx)(h,{className:"h-4 w-4 mr-2"}),"Leave Club"]}):(0,n.jsxs)(o.z,{onClick:S,children:[(0,n.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Join Club"]}))]})}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,n.jsxs)(d.Zb,{children:[(0,n.jsx)(d.Ol,{children:(0,n.jsx)(d.ll,{children:"About"})}),(0,n.jsx)(d.aY,{children:(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:j.description})})]}),(0,n.jsxs)(d.Zb,{children:[(0,n.jsx)(d.Ol,{children:(0,n.jsx)(d.ll,{children:"Upcoming Events"})}),(0,n.jsx)(d.aY,{children:j.activities.length>0?(0,n.jsx)("div",{className:"space-y-3",children:j.activities.map(e=>(0,n.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>x.push("/activities"),children:[(0,n.jsx)("h3",{className:"font-semibold",children:e.title}),(0,n.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500 mt-2",children:[(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),new Date(e.date).toLocaleDateString()]}),(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),e.location]})]})]},e.id))}):(0,n.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No upcoming events"})})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(d.Zb,{children:[(0,n.jsx)(d.Ol,{children:(0,n.jsx)(d.ll,{children:"Stats"})}),(0,n.jsxs)(d.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Members"}),(0,n.jsx)("span",{className:"font-bold",children:j._count.memberships})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Events"}),(0,n.jsx)("span",{className:"font-bold",children:j._count.activities})]})]})]}),(0,n.jsxs)(d.Zb,{children:[(0,n.jsx)(d.Ol,{children:(0,n.jsxs)(d.ll,{children:["Members (",j.memberships.length,")"]})}),(0,n.jsx)(d.aY,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[j.memberships.slice(0,5).map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900 rounded-full flex items-center justify-center",children:(0,n.jsx)(m.Z,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),(0,n.jsx)("span",{className:"text-sm",children:e.user.fullName||e.user.username})]},e.id)),j.memberships.length>5&&(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["+",j.memberships.length-5," more"]})]})})]})]})]})]}),(0,n.jsx)(c.$,{})]})}},7992:function(e,t,s){"use strict";s.d(t,{pm:function(){return h}});var n=s(2265);let r=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function o(e){d=l(d,e),c.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||n()}}}),{id:s,dismiss:n,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=n.useState(d);return n.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},3327:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},4766:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},401:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7945:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8293:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7226:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},5929:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7806:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(2972),r=s.n(n)},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},7495:function(e,t,s){"use strict";s.d(t,{Z8:function(){return o},g7:function(){return u}});var n,r=s(2265),a=s(8575),i=s(7437),l=Symbol.for("react.lazy"),c=(n||(n=s.t(r,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function o(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:s,...n}=e;if(d(s)&&"function"==typeof c&&(s=c(s._payload)),r.isValidElement(s)){var i;let e,l;let c=(i=s,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),d=function(e,t){let s={...t};for(let n in t){let r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{let t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(n,s.props);return s.type!==r.Fragment&&(d.ref=t?(0,a.F)(t,c):c),r.cloneElement(s,d)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=r.forwardRef((e,s)=>{let{children:n,...a}=e;d(n)&&"function"==typeof c&&(n=c(n._payload));let l=r.Children.toArray(n),o=l.find(y);if(o){let e=o.props.children,n=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...a,ref:s,children:n})});return s.displayName=`${e}.Slot`,s}var u=o("Slot"),h=Symbol("radix.slottable");function y(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}}},function(e){e.O(0,[585,972,605,701,971,117,744],function(){return e(e.s=2362)}),_N_E=e.O()}]);