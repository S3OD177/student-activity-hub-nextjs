(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{8619:function(e,t,r){Promise.resolve().then(r.bind(r,3242))},3242:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var a=r(7437),s=r(605),l=r(2265),i=r(9376),n=r(2869),d=r(6070),o=r(2735),c=r(1047),x=r(525),m=r(3327),u=r(8893),p=r(3229),h=r(2489),g=r(598),f=r(5135),b=r(2351),j=r(484),y=r(3284),v=r(8456),N=r(5186),k=r(6815),w=r(7992);function S(){var e,t,r,S,I;let{data:T,status:C}=(0,s.useSession)(),E=(0,i.useRouter)(),{themeConfig:O}=(0,v.F)(),{toast:_}=(0,w.pm)(),[A,P]=(0,l.useState)(null),[Z,D]=(0,l.useState)("portfolio"),[Y,F]=(0,l.useState)(!0),[R,B]=(0,l.useState)(null),[M,H]=(0,l.useState)(!1),[z,G]=(0,l.useState)(null),[U,L]=(0,l.useState)({fullName:"",phoneNumber:"",bio:"",linkedIn:"",github:"",twitter:"",skills:"",gpa:"",graduationYear:"",studentId:""});(0,l.useEffect)(()=>{"unauthenticated"===C?E.push("/login"):T&&(V(),$())},[C,T,E]);let V=async()=>{try{let e=await fetch("/api/enrollments");if(!e.ok)throw Error("Failed to fetch enrollments");let t=await e.json();P({enrollments:Array.isArray(t)?t:[],badges:[]}),B(null)}catch(e){console.error("Error fetching portfolio data:",e),B("Failed to load portfolio data. Please try refreshing the page."),P({enrollments:[],badges:[]})}finally{F(!1)}},$=async()=>{try{let e=await fetch("/api/profile");if(e.ok){let t=await e.json();G(t),L({fullName:t.fullName||"",phoneNumber:t.phoneNumber||"",bio:t.bio||"",linkedIn:t.linkedIn||"",github:t.github||"",twitter:t.twitter||"",skills:t.skills||"",gpa:t.gpa||"",graduationYear:t.graduationYear||"",studentId:t.studentId||""})}}catch(e){console.error("Error fetching profile:",e)}},J=async()=>{try{(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok&&(_({title:"Profile updated successfully!"}),H(!1),$())}catch(e){_({title:"Error",description:"Failed to update profile",variant:"destructive"})}};if(Y)return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col",children:[(0,a.jsx)(j.w,{}),(0,a.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),(0,a.jsx)(y.$,{})]});let X=(null==A?void 0:null===(e=A.enrollments)||void 0===e?void 0:e.filter(e=>e.activity&&new Date(e.activity.date)<new Date).length)||0,q=(null==A?void 0:null===(t=A.enrollments)||void 0===t?void 0:t.filter(e=>e.activity&&new Date(e.activity.date)>=new Date).length)||0;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col",children:[(0,a.jsx)(j.w,{}),(0,a.jsx)("div",{className:"bg-gradient-to-br ".concat(O.primary," text-white"),children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 text-white",children:"My Profile & Portfolio"}),(0,a.jsx)("p",{className:"text-white/90 text-lg",children:"Manage your profile and track your achievements"})]}),(0,a.jsxs)(n.z,{onClick:()=>{window.print()},variant:"secondary",size:"lg",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Download Report"]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsx)(n.z,{variant:"portfolio"===Z?"default":"outline",onClick:()=>D("portfolio"),className:"flex-1 max-w-xs",children:"Portfolio"}),(0,a.jsx)(n.z,{variant:"profile"===Z?"default":"outline",onClick:()=>D("profile"),className:"flex-1 max-w-xs",children:"Profile Settings"})]}),"portfolio"===Z&&(0,a.jsxs)("div",{className:"space-y-6",children:[R&&(0,a.jsx)(d.Zb,{className:"mb-8 border-red-200 bg-red-50 dark:bg-red-950/20",children:(0,a.jsx)(d.aY,{className:"py-4",children:(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400",children:R})})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)(d.Zb,{className:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Events Attended"}),(0,a.jsx)(c.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:X}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Completed activities"})]})]}),(0,a.jsxs)(d.Zb,{className:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Upcoming Events"}),(0,a.jsx)(x.Z,{className:"h-5 w-5 text-green-600 dark:text-green-400"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:q}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Enrolled activities"})]})]}),(0,a.jsxs)(d.Zb,{className:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Badges Earned"}),(0,a.jsx)(m.Z,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:"0"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Coming soon"})]})]})]}),(0,a.jsxs)(d.Zb,{className:"mb-8",children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{className:"text-gray-900 dark:text-white",children:"Activity Highlights"})}),(0,a.jsx)(d.aY,{children:(null==A?void 0:A.enrollments)&&A.enrollments.length>0?(0,a.jsx)("div",{className:"space-y-4",children:A.enrollments.slice(0,5).map(e=>e.activity&&(0,a.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 pb-3 last:border-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.activity.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.activity.date).toLocaleDateString()})]}),(0,a.jsx)("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:e.activity.category||"General"})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No activities yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Start enrolling in activities to build your portfolio"})]})})]})]}),"profile"===Z&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:M?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.z,{onClick:J,children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>H(!1),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}):(0,a.jsxs)(n.z,{onClick:()=>H(!0),children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Basic Information"})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"fullName",children:"Full Name"}),(0,a.jsx)(N.I,{id:"fullName",value:U.fullName,onChange:e=>L({...U,fullName:e.target.value}),disabled:!M})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"email",children:"Email"}),(0,a.jsx)(N.I,{id:"email",value:(null==z?void 0:z.email)||(null==T?void 0:null===(r=T.user)||void 0===r?void 0:r.email)||"",disabled:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(N.I,{id:"phone",value:U.phoneNumber,onChange:e=>L({...U,phoneNumber:e.target.value}),disabled:!M})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"studentId",children:"Student ID"}),(0,a.jsx)(N.I,{id:"studentId",value:U.studentId,onChange:e=>L({...U,studentId:e.target.value}),disabled:!M})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"bio",children:"Bio"}),(0,a.jsx)("textarea",{id:"bio",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",value:U.bio,onChange:e=>L({...U,bio:e.target.value}),disabled:!M,placeholder:"Tell us about yourself..."})]})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Academic Information"})}),(0,a.jsx)(d.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"gpa",children:"GPA"}),(0,a.jsx)(N.I,{id:"gpa",type:"number",step:"0.01",value:U.gpa,onChange:e=>L({...U,gpa:e.target.value}),disabled:!M})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"gradYear",children:"Graduation Year"}),(0,a.jsx)(N.I,{id:"gradYear",type:"number",value:U.graduationYear,onChange:e=>L({...U,graduationYear:e.target.value}),disabled:!M})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{htmlFor:"skills",children:"Skills"}),(0,a.jsx)(N.I,{id:"skills",value:U.skills,onChange:e=>L({...U,skills:e.target.value}),disabled:!M,placeholder:"React, Python..."})]})]})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Social Links"})}),(0,a.jsx)(d.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)(N.I,{placeholder:"LinkedIn profile URL",value:U.linkedIn,onChange:e=>L({...U,linkedIn:e.target.value}),disabled:!M})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),(0,a.jsx)(N.I,{placeholder:"GitHub username",value:U.github,onChange:e=>L({...U,github:e.target.value}),disabled:!M})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsx)(N.I,{placeholder:"Twitter handle",value:U.twitter,onChange:e=>L({...U,twitter:e.target.value}),disabled:!M})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Profile Stats"})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Points"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-purple-600",children:(null==z?void 0:z.totalPoints)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activities"}),(0,a.jsx)("span",{className:"text-xl font-semibold",children:(null==A?void 0:null===(S=A.enrollments)||void 0===S?void 0:S.length)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Certificates"}),(0,a.jsx)("span",{className:"text-xl font-semibold",children:(null==A?void 0:null===(I=A.enrollments)||void 0===I?void 0:I.filter(e=>e.certificateIssued).length)||0})]})]})]}),U.skills&&(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Skills"})}),(0,a.jsx)(d.aY,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:U.skills.split(",").map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:e.trim()},t))})})]})]})]})]})]}),(0,a.jsx)(y.$,{})]})}},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(7437),s=r(2265),l=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});var a=r(7437),s=r(2265),l=r(6394),i=r(535),n=r(4508);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,n.cn)(d(),r),...s})});o.displayName=l.f.displayName},7992:function(e,t,r){"use strict";r.d(t,{pm:function(){return m}});var a=r(2265);let s=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=n(o,e),d.forEach(e=>{e(o)})}function x(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(o);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:x,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8456:function(e,t,r){"use strict";r.d(t,{F:function(){return d},ThemeProvider:function(){return n}});var a=r(7437),s=r(2265),l=r(2857);let i=(0,s.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,s.useState)("default");(0,s.useEffect)(()=>{let e=localStorage.getItem("color-theme");e&&(0,l.g)(e)&&n(e)},[]);let d=(0,l.g)(r);return(0,a.jsx)(i.Provider,{value:{currentTheme:r,setTheme:e=>{n(e),localStorage.setItem("color-theme",e)},themeConfig:d},children:t})}function d(){let e=(0,s.useContext)(i);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},2857:function(e,t,r){"use strict";r.d(t,{g:function(){return s},n:function(){return a}});let a={default:{name:"Default Blue",primary:"from-blue-600 via-purple-600 to-indigo-700",primarySolid:"bg-blue-600",primaryHover:"hover:bg-blue-700",primaryText:"text-blue-600",primaryBorder:"border-blue-500",accent:"from-blue-400 to-purple-400"},green:{name:"Forest Green",primary:"from-green-600 via-teal-600 to-emerald-700",primarySolid:"bg-green-600",primaryHover:"hover:bg-green-700",primaryText:"text-green-600",primaryBorder:"border-green-500",accent:"from-green-400 to-teal-400"},purple:{name:"Royal Purple",primary:"from-purple-600 via-indigo-600 to-violet-700",primarySolid:"bg-purple-600",primaryHover:"hover:bg-purple-700",primaryText:"text-purple-600",primaryBorder:"border-purple-500",accent:"from-purple-400 to-indigo-400"},orange:{name:"Sunset Orange",primary:"from-orange-600 via-red-600 to-pink-700",primarySolid:"bg-orange-600",primaryHover:"hover:bg-orange-700",primaryText:"text-orange-600",primaryBorder:"border-orange-500",accent:"from-orange-400 to-red-400"},pink:{name:"Rose Pink",primary:"from-pink-600 via-rose-600 to-red-700",primarySolid:"bg-pink-600",primaryHover:"hover:bg-pink-700",primaryText:"text-pink-600",primaryBorder:"border-pink-500",accent:"from-pink-400 to-rose-400"},cyan:{name:"Ocean Cyan",primary:"from-cyan-600 via-blue-600 to-indigo-700",primarySolid:"bg-cyan-600",primaryHover:"hover:bg-cyan-700",primaryText:"text-cyan-600",primaryBorder:"border-cyan-500",accent:"from-cyan-400 to-blue-400"}},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return a[e]||a.default}}},function(e){e.O(0,[585,972,605,957,701,971,117,744],function(){return e(e.s=8619)}),_N_E=e.O()}]);